
;; -------------------- Customize Doom Dashboard --------------------

;; Customize banner --------------------

(defvar jecs/banners
  '(

    (
     "           ▓█▓███████████▓███▓▓▓▓▓████▓▓▓▓█▓█▓███▓▓█▓▓█▓▓█▓▒░▒▒▒▓█▓▓▒▓████    "
     "           ██▒███████████▓██▓▓▓█▒▒▓████▓▓▓▓▓▓████▓▓██▓▓█▒░░░░░░░░░▓█▓▓▓███░   "
     "          ▒██▓▓██████████▓██▓▓▓▓▓█▓▒▒▓▓▓▒▓▒▓▓█████▓███▓░░▒▓█████▒░▒█▓▓▓███▒   "
     "          ███▓▓█████████████▓▓█▓▓████▓▓▓▒▒█▓▓█████▓██▒░▒██▓▒▒████▒██▒▓▓███▒   "
     "         ▒███▓████████████▓█▓▓█▓▓█████████▓█▓▓█████▓█░▓█▒░░░▒███████▒▓▓███▓   "
     "        ░███▓▓▓███████████▓█▓▓█▓▓█▓▓▓▓▓▓▓████▓▓████▓▓▓█░▒░░░░░▒░████▒▓▓▓███   "
     "        ▓███▓▒▓▓██████████▓█▒███▓█▓██▓▓▓███████▓███▓██▒░░░▒▓░░▓▓████▓▓▓▓███   "
     "      ░▓██▓▓▒▓▓▓██████████▓▓▒████▒░░░░░░░▒██████▓▓██▓█▒▒▒▒▒▒▒▓▒█████▓▒▓▓███   "
     "     ▒██▓▓▓▒▒▒▓▓███████████▒▓██▒░░▒▒▓▓▓▓▒▒▒██████▓▓█▓██▓▒▒▒▒▒▓▓▓█████▒▓▓█▓█░  "
     "            ▓▓▓▓███████████▒▓▒░░▓███▓▒▒▓███████████▓▓████████████████▒▓▓█▓█░  "
     "            ▓▒▓▒███████████▓░░▓███▒░░░███████████████████████████████▓▒▓█▓█░  "
     "            ▒▓▒▓▓█████████▓▓░▓██▓░▒░░▒▒▓▒▓████████████████████████████▒▓▓▓█░  "
     "           ░▒▓░▓▓████████▓▓▓▓██▓░▒░░▒▒░▒▒▓████████████████████████████▒▓▓▓█░  "
     "            ██▒▒▓█████████▓▓▓██░░░░▒▒▒▓▒▒████████████▓▓███████████████▓▒▓▓█▒  "
     "           ░█▓▓▒▒███████████▓▓█░░░▒▒▓▓▒▒▓████████████▓▓▓███████████████▒▓▓█▒  "
     "           ░█▓▓▒▒████████████▓█▒▒▓▓▒▒▓████████████████▓▓███████████████▒▓▓▓▒  "
     "           ▒▓▓▓▒▒▓███████████▓████▓▓██████████████████▓▓███████████████▒▓▓▓▒  "
     "           ▒▒█▓▒▒▓████████████▓███▓████████████████████████████████████▒▓▓▓░  "
     "           ▒█▓▓▒▓▓▓████████▓███▓██████████████████████████████████████▒▓▓▓█░  "
     "          ░▓█▓▓▒▓▓▒████████▓███▓█████████████████████████████████████▓▒▓▒▓█░  "
     "          ▒██▓▓▒▓▓▒▓███████▓▓██▓█████████████████████████████████████▒▓▓▒▓█   "
     "         ░▓██▓▒▓▓▓▒▓████████▓███▓███████████████████████████▓███████▒▓▓▓▒▒▓   "
     "         ▒▓█▓▓▒▓▓▓▒▒████████▓▓██▓██████████████████████▓▓▓▓▓▓▓█████▓▒▓▓▓▒▒▓░  "
     "         ▓██▓▓▒▓▓▓▒▓▓███████▓▓██▓▓█████████████████▓▓▓▓███████████▓▒▓▓▓▓▒▒▓▒░ "
     "        ▒▓██▓▒▓▓▓▒▓▓▒█▓██████▓▓██▓███████████▓█▓██▓███████████████▒▓▓▓▒▒▒▒▒█░ "
     "        ▓▓██▓▒▓▓▓▒▓▓▒▓▓▓█████▓▓██▓███████████▓▓█▓▓███████████████▓▒▒▒▒▒▒▒░▓█▓ "
     "        ▓██▓▓▒▓▓▓▒▓▓▓▒█▓█████▓▓▓██▓██████████▓██████████████████▓█▓▒▒▒▒▒░▒▓█▓▒"
     "       ▒▓██▓▒▒▓▓▓▒▓▓▓▒▓▓▓███▓▓▓▓▓▓▓████████████████████████████▓██▓▒▒▒▒▒▒▓▓██▓"
     "       ▒▓██▓▒▓▓▓▓▒▓▓▓▒▒▓▓▓▓▓▓▓▓▓▓▓▓▓██████████████████████████▒███▓▒▒▒▒▒▓▓▓██▓"
     "      ░▓███▓▒▓▓▓▓▒▒▒▓██▓▓▓▓▓▓▓▓▓▓▓▓▒▓████████████████████████▒▒███▓▒▒▒▒▒▓▒███▓"
     "      ▒▓▓▓▓▓▒▓▒▓▓░░████▓▓▓▓▓▓▓▓▓▓▓▓▓░▒▓████████████████████▓░▒▒████▒▒▒▒▒█▒███▓"
     "      ▒▓▓▓▓▓▒▒▓▒░░░░████▓▓▓▓▓▓▓▓▓▓▒▓░░░▒▓█████████████████▒░▒▒▒████░▒▒▒▒█▓██▓▒"
     "     ░▒▓▓▓▓▒▒▒▓▓░░░░░████▓▓▓▓▓▓▓▓▓▒▓▓  ▓▓▒▒▒▓█████████▓▓▒░ ░▒▒▒████▒▒▒▒▓████▓▒"
     "     ▒▓▓▓▓▓▒▓▒▓▓▒░░░░▒███▓▓▓▓▓▓▓▓▓▓▒▓░ ░▓▓▓▓▓▒▒▒▒▓▒▒▒▒▒░░ ░░▒▒▒████▒▒▒▒▓████▓▒"
     "     ▒▓▓▓▓▓▒▒▒▒▒▓█░░░░▒███▓▓▒▓▓▓▓▓▓▒▒▓ ░▒▓▓▓▒░░▓▓▓▓▓▓▒░   ░░▒▒▒████▒▒▒▒█████▓▒"
     "     ▒▓▓▓▓▓▒▒▒▒▓███░░░░▒███▓▓▓▓▓▓▓▓▓ ▓░░░░▒▓░░░░▓▓▓▓▓░ ░░░░░▒▒▒████▒▒▒▒▓████▓▓")
     

    (
     "            ████████        ████████  ████                                  "
     "            ██▓▓▒▒▓▓████  ██        ██    ██              ██████████        "
     "            ██▒▒████▓▓▓▓██    ░░    ░░      ██  ██████████▒▒▒▒▓▓▒▒██        "
     "            ██▓▓██░░████  ░░░░░░░░░░░░░░      ██▓▓▓▓▒▒▒▒▒▒▒▒████▒▒██        "
     "              ████░░██  ░░████████████░░░░░░░░  ▓▓▓▓▓▓▓▓████░░██▓▓██        "
     "                ████  ░░▓▓▓▓▓▓▓▓████▓▓▓▓██▓▓░░░░▒▒██▓▓██▒▒▒▒░░██▓▓▓▓        "
     "                  ██░░▓▓▒▒▓▓▒▒▒▒▒▒▒▒▓▓▓▓▓▓▓▓▓▓░░░░░░██░░░░  ██▓▓▓▓          "
     "                ██  ██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓████░░░░██░░░░██▓▓██          "
     "                ██░░██▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓██░░██░░██▓▓██            "
     "                  ██▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓██░░██▓▓██              "
     "                ██▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓▓██░░██████              "
     "                ██▒▒▒▒▒▒▓▓▓▓▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▒▒▒▒▒▒▓▓▓▓██▓▓▓▓██              "
     "                ██▒▒▒▒▒▒▓▓██▒▒▒▒▒▒▒▒▓▓▒▒▒▒▒▒▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓██              "
     "                ██▒▒▒▒▒▒▓▓██▒▒▒▒▒▒▓▓▓▓▒▒▒▒▒▒▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓██              "
     "                ██▒▒▒▒▓▓████▒▒▒▒▒▒▓▓██▒▒▒▒▓▓▓▓▒▒▒▒▒▒▓▓▓▓▓▓▓▓██              "
     "                  ██████░░░░██▒▒▒▒▓▓██▒▒▒▒▓▓██▒▒▒▒▒▒▓▓▓▓▓▓▓▓██              "
     "                ██▓▓██▓▓▓▓▓▓░░██████░░██████▓▓▒▒▒▒▓▓▓▓▓▓▓▓▓▓██              "
     "                ██▓▓██  ▒▒▒▒░░░░░░░░▓▓▓▓▓▓▒▒██▒▒▒▒▓▓▓▓▓▓▓▓▓▓██              "
     "                ██▓▓▓▓░░░░░░░░░░░░░░  ▒▒▒▒░░▓▓▒▒▒▒▓▓▓▓▓▓▓▓██                "
     "                ██▒▒██░░          ░░░░░░░░██▒▒▒▒▓▓▓▓▓▓▓▓▓▓██                "
     "                ██▒▒▓▓██    ▓▓░░        ░░██▒▒▒▒▓▓▓▓▓▓▓▓▓▓██                "
     "                  ██▒▒██                ██▒▒▒▒▓▓▓▓▓▓▓▓▓▓██                  "
     "                  ██▒▒██░░    ▒▒▒▒      ░░████▓▓▓▓▓▓▓▓██                    "
     "                    ██▓▓██    ░░░░    ░░██░░██▒▒▓▓▓▓██                      "
     "                    ██▒▒▓▓▓▓▓▓      ░░▓▓▒▒▓▓▒▒▒▒████                        "
     "                  ██  ██▓▓██░░████████░░░░██████                            "
     "                ██  ░░░░████  ██░░██    ░░░░██                              "
     "              ██    ░░▓▓░░░░████░░░░██    ██░░▓▓██    ██████                "
     "              ██  ▒▒░░▓▓░░▓▓▓▓▓▓██▓▓██▓▓▓▓░░░░░░░░▓▓██░░░░░░██              "
     "            ██  ░░░░▓▓░░▓▓▓▓▓▓██▓▓██▓▓▓▓██░░░░░░░░░░██  ░░░░██              "
     "              ██  ░░██░░██████░░██▓▓▓▓████░░░░  ░░██    ░░░░░░██            "
     "            ██▓▓██░░██░░░░░░░░░░░░██▓▓██░░░░    ░░██  ░░░░████              "
     "          ██▒▒▓▓▓▓██    ░░░░░░░░░░░░████░░░░░░░░░░██  ░░██▓▓▓▓██            "
     "          ██▒▒▓▓██        ░░░░░░░░░░░░░░░░░░░░░░██    ██▓▓▓▓▓▓▓▓██          ")
     

    (
     "                                           ░░░                                "
     "                                       ░░░░ ░░░░░                             "
     "                                      ░░░░░░░░░░░░                            "
     "                                     ░░░░░▒▒▒░░░░░░░░░                        "
     "                                    ░░░░▒▒▒▒░░░░░░░  ░                        "
     "                                   ░░░░░▒▒▒░▒░░▒░░░░                          "
     "                                   ▒░░░░░▒░▒░░░▒▒░▒░▒░░                       "
     "                               ░▒▒░░  ░░░░░░░░░▒░▒▒▒░▒░                       "
     "                               ░░░░   ░  ░░░▒░░░░░░▒░▒▒                       "
     "                            ▒▓▓▓▓▓▓▒  ░  ░░░░░░░░░░░▒░▒                       "
     "                          ░▓▓▓▓▓▓▓▓▒▒   ░░░░░  ▒ ░░░▒░▒░                      "
     "                         ░▓▓▓▓▓▓▓▓▓▒    ░▒░░░░ ▒ ░ ░░░░░                      "
     "                         ▓▓▓▒▒▓▓▓▓▓░    ▒▓░░▒░░░░░░ ░░░░                      "
     "                        ▓▓▓▓▒  ░░▒▒  ░░ ▒▒▒▓▓▒░ ░▒     ░                      "
     "                       ░▓▓▓▒   ░░▒░ ░░░░▒▓▓▓▓▓░▒░                             "
     "                       ▓▓▓▓   ░ ░░  ▒░▒░▓▓▓▓▓▓▓▒░░                            "
     "                      ▒▓▓▓▒     ░  ░░▒▒░▓▓▓▓▓▓▓▓░                             "
     "                     ░▓▓▓▓      ░  ░░ ▒▒▓▓▓▓▓▓▓▓▒                             "
     "                     ▓▓▓▓▒     ░░  ░  ▒▒▓▓▓▒░▒▓▓░                             "
     "                    ▒▓▓▓▓     ░░   ░  ▒▒▓▓▓▓▒▓▓▒   ░                          "
     "                    ▓▓▓▓▒    ░        ▒▒▒▓▓▓▓▓▒    ▒                          "
     "                   ▒▓▓▓▓░    ░       ░▒▒▒▒▒▓▒  ░░░ ░                          "
     "                   ▓▓▓▓▒    ░        ▒▒▒▒▒░   ░▒░░  ░                         "
     "                  ▒▓▓▓▓░   ░░       ▒▒▒▒▒▒░   ░▒░ ░                           "
     "                  ▓▓▓▓▓ ░ ░░░▒▓    ▒▓▓▒▒▒▒░   ░▒░ ░                           "
     "                 ▒▓▓▓▓▒▓▓▓▓▓▓▓▓ ░  ░▓▓▒▒▒▒▒░  ░▒░                             "
     "                 ▓▓▓▓▓▓▓▓▓▓▓▓▓▓ ░   ▓▓▓▓▒▒▒▒▒ ░▒                              "
     "                ░▓▓▓▓▒▓▓▓▓▓▓▓▓▓ ▒░  ░▓▓▓▓▓▓▓▒░ ░░                             "
     "                ▒▓▓▓▓▓▓▓▓▓▓▓▓▓▓ ░▓░  ░▓▓▓▓▓▓▒▒ ░▒▓▒                           "
     "                 ▒▓▓▓▓▓▓▓▓▒▒▒▒▒░░▓▓▒  ░▓▓▓▓▓░▒ ░░▓▓▒                          "
     "                  ░░░░░░░░░░░▒▒░▒▒▓▓▓░░░▓▓▓▓░▒░ ░▒▓▓                          "
     "                ░░░░   ░     ░▒▒░▓▓▓▓▓▓░▒▓▓▓░▒▓░ ░▓▓▓                         "
     "              ░░░           ░░▒▓▓▒▓▓▓▓▓▓░▒▓▓░░▓▓░ ░▓▓░                        ")))
     

    

(defun jecs/dashboard-ascii-banner ()
  (let* ((banner (nth (random (length jecs/banners)) jecs/banners))
         (longest-line (apply #'max (mapcar #'length banner))))
    (put-text-property
     (point)
     (dolist (line banner (point))
       (insert (+doom-dashboard--center
                +doom-dashboard--width
                (concat line (make-string (max 0 (- longest-line (length line))) 32)))
               "\n"))
     'face 'doom-dashboard-banner)))

(setq +doom-dashboard-ascii-banner-fn #'jecs/dashboard-ascii-banner)

;; Customize dashboard widgets --------------------

;; these functions taken straight from doom with slight modification.
(defun doom-dashboard-widget-loaded ()
  (when doom-init-time
    (insert
     ""
     (propertize
      (+doom-dashboard--center
       +doom-dashboard--width
       (doom-display-benchmark-h 'return))
      'face 'doom-dashboard-loaded)
     "\n")))

(defun doom-display-benchmark-h (&optional return-p)
  "Display a benchmark including number of packages and modules loaded.

If RETURN-P, return the message as a string instead of displaying it."
  (funcall (if return-p #'format #'message)
           "Loaded %d packages in %.03fs"
           (- (length load-path) (length (get 'load-path 'initial-value)))
           doom-init-time))

;; Remove footer from dashboard
(setq +doom-dashboard-functions
      '(
        doom-dashboard-widget-banner
        doom-dashboard-widget-shortmenu
        doom-dashboard-widget-loaded))
        ;; doom-dashboard-widget-footer
        

;; remove some sections from the dashboard
(setq +doom-dashboard-menu-sections (cl-subseq +doom-dashboard-menu-sections 0 2))

;; disable hl line on dashboard
(add-hook! '+doom-dashboard-functions
  (setq hl-line-mode nil)
  (hide-mode-line-mode 1))
